source = source
builddir = build
bin = bin
lib = $builddir/lib
obj = $builddir/obj

cxx = g++
cflags = -Wall -std=c++11 -I $source
ldflags = -g -rdynamic -pthread

rule cxx
  depfile = $out.d
  command = $cxx -MMD -MF $out.d $cflags -c $in -o $out
  description = CC $out

rule ar
  command = ar crsT $out $in
  description = AR $out

rule link
  command = $cxx $ldflags -o $out $in
  description = LINK $out
